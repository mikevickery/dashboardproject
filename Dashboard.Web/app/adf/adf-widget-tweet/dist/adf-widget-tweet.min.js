!function(e,t){"use strict";angular.module("adf.widget.tweet",["adf.provider"]).config(["dashboardProvider",function(e){e.widget("tweet",{title:"Tweet",description:"Displays an embedded Tweet",templateUrl:"{widgetsPath}/tweet/src/view.html",controller:"tweetCtrl",resolve:{tweetData:["tweetService","config",function(e,t){return t.url?e.get(t.url):void 0}]},edit:{templateUrl:"{widgetsPath}/tweet/src/edit.html"}})}]).service("tweetService",["$q","$http",function(e,t){return{get:function(r){var l=e.defer(),i="https://api.twitter.com/1/statuses/oembed.json?callback=JSON_CALLBACK&url="+r;return t.jsonp(i).success(function(e){console.log(e),e?l.resolve(e):l.reject()}).error(function(){l.reject()}),l.promise}}}]).controller("tweetCtrl",["$scope","$sce","tweetData",function(e,t,r){e.tweetData=r,e.tweetHtml=t.trustAsHtml(r.html)}]),angular.module("adf.widget.tweet").run(["$templateCache",function(e){e.put("{widgetsPath}/tweet/src/edit.html",'<form role=form><div class=form-group><label for=url>Feed url</label> <input type=url class=form-control id=url ng-model=config.url placeholder="Enter Tweet url"></div></form>'),e.put("{widgetsPath}/tweet/src/view.html",'<div class=news><div class="alert alert-info" ng-if=!tweetHtml>Please insert a tweet url in the widget configuration</div><div ng-bind-html=tweetHtml></div></div>')}])}(window);